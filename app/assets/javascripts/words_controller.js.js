// Generated by CoffeeScript 1.8.0
var ShowWordCtrl, WordsCtrl, WordsCtrls,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

WordsCtrls = angular.module("WordsCtrls", []);

WordsCtrl = (function() {
  function WordsCtrl(scope, Word, Trie) {
    this.scope = scope;
    this.Word = Word;
    this.Trie = Trie;
    this.addWords = __bind(this.addWords, this);
    this.words = [];
    this.t = new this.Trie();
    this.completions = [];
    this.Word.all().success((function(_this) {
      return function(data) {
        _this.words = data;
        return _this.words.forEach(function(word) {
          _this.t.learn(word.name);
          return console.log(_this.t);
        });
      };
    })(this));
  }

  WordsCtrl.prototype.completeWord = function(word) {
    return this.completions = this.t.autoComplete(word);
  };

  WordsCtrl.prototype.addWords = function(word) {
    return this.Word.create(word).success((function(_this) {
      return function(data) {
        _this.words.push(data);
        _this.t.learn(data.name);
        console.log(_this.t);
        return _this.scope.newWord = {};
      };
    })(this));
  };

  return WordsCtrl;

})();

ShowWordCtrl = (function() {
  function ShowWordCtrl(scope, Word, routeParams) {
    this.scope = scope;
    this.Word = Word;
  }

  return ShowWordCtrl;

})();

WordsCtrls.controller("WordsCtrl", ["$scope", "Word", "Trie", WordsCtrl]);

WordsCtrls.controller("ShowWordCtrl", ["$scope", "Word", "$routeParams", ShowWordCtrl]);
