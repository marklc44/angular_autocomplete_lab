// Generated by CoffeeScript 1.8.0
var ShowWordCtrl, WordsCtrl, WordsCtrls;

WordsCtrls = angular.module("WordsCtrls", []);

WordsCtrl = (function() {
  var completeWord;

  function WordsCtrl(scope, Word, Trie) {
    this.scope = scope;
    this.Word = Word;
    this.Trie = Trie;
    this.words = [];
    this.t = new this.Trie();
    this.completions = [];
    this.Word.all().success((function(_this) {
      return function(data) {
        _this.words = data;
        console.log(_this.words);
        return _this.words.forEach(function(word) {
          console.log(word);
          _this.t.learn(word.name);
          return console.log(_this.t);
        });
      };
    })(this));
  }

  completeWord = function() {
    console.log(this.t);
    return this.completions = this.t.autocomplete(this.newWord.name);
  };

  WordsCtrl.prototype.addWords = function(word) {
    return this.Word.create(word).success((function(_this) {
      return function(data) {
        _this.words.push(data);
        return _this.scope.newWord = {};
      };
    })(this));
  };

  return WordsCtrl;

})();

ShowWordCtrl = (function() {
  function ShowWordCtrl(scope, Word, routeParams) {
    this.scope = scope;
    this.Word = Word;
  }

  return ShowWordCtrl;

})();

WordsCtrls.controller("WordsCtrl", ["$scope", "Word", "Trie", WordsCtrl]);

WordsCtrls.controller("ShowWordCtrl", ["$scope", "Word", "$routeParams", ShowWordCtrl]);
